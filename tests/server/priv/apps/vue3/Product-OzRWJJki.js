import{d as v,A as n,q as y,g as p,h as c,s as d,x as f,_ as $,c as m,o as g,a as e,t as s,j as w,v as b,k as h}from"./index-H4EkI3W3.js";import{g as q}from"./fixture-D9BvyeIw.js";const A=v({name:"Product",setup(){n.$webtrekk.deactivateAutoTracking=!0;const o=y().params.id,u=p(1),a=p([]),i=c(()=>d.getters.isLoggedOut),l=c(()=>d.getters.userData),r=async()=>{a.value=await q(`products/id/${o}`),n.$webtrekk.page({parameter:{1:"Single Product"}}),n.$webtrekk.product("view",{id:String(a.value[0].id),cost:a.value[0].price,quantity:1}),n.$webtrekk.track()},k=()=>{d.dispatch("addToCart",{...a.value[0],quantity:u.value})};return f(r),{quantity:u,product:a,isLoggedOut:i,userData:l,handleAddToCart:k}}}),C={key:0},T={key:1},D=["src","alt"];function P(t,o,u,a,i,l){return t.product.length===0?(g(),m("div",C,o[2]||(o[2]=[e("p",null,"Loading product data...",-1)]))):(g(),m("div",T,[e("h1",null,s(t.product[0].name),1),e("img",{src:t.product[0].imageUrl,alt:t.product[0].name},null,8,D),e("p",null,s(t.product[0].description),1),e("p",null,[e("small",null,"SKU: "+s(t.product[0].sku),1)]),e("p",null,[e("strong",null,"Price: $"+s(t.product[0].price),1)]),e("form",null,[w(e("input",{type:"number",name:"quantity",min:"1","onUpdate:modelValue":o[0]||(o[0]=r=>t.quantity=r)},null,512),[[b,t.quantity]]),e("button",{type:"submit",onClick:o[1]||(o[1]=h((...r)=>t.handleAddToCart&&t.handleAddToCart(...r),["prevent"]))}," Add to cart ")])]))}const L=$(A,[["render",P]]);export{L as default};
