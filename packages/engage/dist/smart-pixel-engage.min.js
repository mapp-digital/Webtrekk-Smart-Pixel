(function(){function k(e){var f=this,b=e?e:function(){},c=null,d=!1,a=1E3;this.c=function(){d?a=1E3:(d=!0,c=window.setInterval(function(){a-=100;0>=a&&f.a()},100))};this.a=function(){this.b();b()};this.b=function(){d=!1;a=1E3;window.clearInterval(c)}};function l(e,f){var b={attributes:{},eventName:"",eventId:0,eventSegmentation:""},c=null;(function(){c=new k(function(){e.engage.data.add(b);e.trackAction();b.attributes={};b.eventName="";b.eventId=0;b.eventSegmentation=""})})();return{data:function(d,a,e){var g={};e&&"object"===typeof e?g=e:g[d]=a;for(var h in g)d=g[h],!d||"string"!==typeof d&&"number"!==typeof d||(b.attributes["undefined"!==typeof f.attributes[h]?f.attributes[h]:h]=""+d);c.c()},cnf:{id:0}}};function m(e,f){var b=this,c=window,d=l(e,f);c.wtstp_engage=c.wtstp_engage||[];b.a=function(){if(!(0>=arguments.length)&&"function"===typeof arguments[0])arguments[0](d,e)};b.b=function(){for(var a=0;a<c.wtstp_engage.length;a++)b.a(c.wtstp_engage[a]);c.wtstp_engage={push:b.a,length:0}}};function n(e){e.extension.push(function(e){var b={attributes:{}},c=!1,d;return{name:"engage",version:"1.0.0",config:function(a){if("undefined"===typeof a)return b;"object"===typeof a.attributes&&a.attributes&&(b.attributes=a.attributes)},trigger:function(a){var b=a.mode;a=a.type;c&&"page"===b&&"ready"===a&&d.b()},isActivated:function(){return c},activate:function(){c||(c=!0,d=new m(e,b))},deactivate:function(){c&&(c=!1)},add:function(){c&&d.a.apply(d,arguments)}}})}
var p="undefined"!==typeof module&&module.exports;"function"===typeof define&&define.amd?define("wtSmartEngage",n):p?module.exports=n:(this.wtSmart=this.wtSmart||[],this.wtSmart.push(n));})();
